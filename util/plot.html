<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cityseer API Docs</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,400,500">
    <meta name="description" content="Computational tools for urban analysis">
    
    <link rel="preload" href="/cityseer/assets/css/0.styles.7973ef14.css" as="style"><link rel="preload" href="/cityseer/assets/js/app.456aa22a.js" as="script"><link rel="preload" href="/cityseer/assets/js/2.749b0150.js" as="script"><link rel="preload" href="/cityseer/assets/js/8.279e1aab.js" as="script"><link rel="preload" href="/cityseer/assets/js/12.6b68f70d.js" as="script"><link rel="preload" href="/cityseer/assets/js/11.1bccfaa6.js" as="script"><link rel="preload" href="/cityseer/assets/js/10.60fbc9d6.js" as="script"><link rel="preload" href="/cityseer/assets/js/9.e04dbb95.js" as="script"><link rel="prefetch" href="/cityseer/assets/js/13.018c0dd0.js"><link rel="prefetch" href="/cityseer/assets/js/14.54ec56a7.js"><link rel="prefetch" href="/cityseer/assets/js/15.38d41645.js"><link rel="prefetch" href="/cityseer/assets/js/16.f8d60eec.js"><link rel="prefetch" href="/cityseer/assets/js/17.49dafd2e.js"><link rel="prefetch" href="/cityseer/assets/js/18.5e356d14.js"><link rel="prefetch" href="/cityseer/assets/js/19.374afded.js"><link rel="prefetch" href="/cityseer/assets/js/20.27ca803a.js"><link rel="prefetch" href="/cityseer/assets/js/3.1adb85b5.js"><link rel="prefetch" href="/cityseer/assets/js/4.5f4c3657.js"><link rel="prefetch" href="/cityseer/assets/js/5.0c5d1e74.js"><link rel="prefetch" href="/cityseer/assets/js/6.3e1c4c51.js"><link rel="prefetch" href="/cityseer/assets/js/7.da4b7b99.js">
    <link rel="stylesheet" href="/cityseer/assets/css/0.styles.7973ef14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cityseer/" class="home-link router-link-active"><img src="/cityseer/round_logo.png" alt="Cityseer API Docs" class="logo"> <span class="site-name can-hide">Cityseer API Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cityseer/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="/cityseer/intro.html" class="nav-link">
  docs
</a></div><div class="nav-item"><a href="https://cityseer.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cityseer.io
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/cityseer/cityseer" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cityseer/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="/cityseer/intro.html" class="nav-link">
  docs
</a></div><div class="nav-item"><a href="https://cityseer.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cityseer.io
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/cityseer/cityseer" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cityseer/intro.html" class="sidebar-link">intro</a></li><li><a href="/cityseer/attribution.html" class="sidebar-link">attribution</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cityseer/guide/cleaning.html" class="sidebar-link">graph cleaning</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>cityseer.metrics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cityseer/metrics/layers.html" class="sidebar-link">metrics.layers</a></li><li><a href="/cityseer/metrics/networks.html" class="sidebar-link">metrics.networks</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>cityseer.util</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cityseer/util/graphs.html" class="sidebar-link">util.graphs</a></li><li><a href="/cityseer/util/mock.html" class="sidebar-link">util.mock</a></li><li><a href="/cityseer/util/plot.html" aria-current="page" class="active sidebar-link">util.plot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cityseer/util/plot.html#plot-nx-primal-or-dual" class="sidebar-link">plot_nX_primal_or_dual</a></li><li class="sidebar-sub-header"><a href="/cityseer/util/plot.html#plot-nx" class="sidebar-link">plot_nX</a></li><li class="sidebar-sub-header"><a href="/cityseer/util/plot.html#plot-assignment" class="sidebar-link">plot_assignment</a></li><li class="sidebar-sub-header"><a href="/cityseer/util/plot.html#plot-graph-maps" class="sidebar-link">plot_graph_maps</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cityseer-util-plot"><a href="#cityseer-util-plot" class="header-anchor">#</a> cityseer.util.plot</h1> <p>Convenience functions for basic plotting. This module is predominately used for basic plots or visual verification of behaviour in code tests. Custom behaviour can be achieved by directly manipulating the underlying <a href="https://networkx.github.io" target="_blank" rel="noopener noreferrer"><code>NetworkX</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://matplotlib.org" target="_blank" rel="noopener noreferrer"><code>matplotlib</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> figures.</p> <h2 id="plot-nx-primal-or-dual"><a href="#plot-nx-primal-or-dual" class="header-anchor">#</a> plot_nX_primal_or_dual</h2> <div class="sig-style" data-v-9706ca2e><pre data-v-9706ca2e>plot_nX_primal_or_dual(primal=None,
                       dual=None,
                       path=None,
                       labels=False,
                       primal_colour=None,
                       dual_colour=None,
                       **figure_kwargs)
</pre></div> <p>Plot either or both primal and dual representations of <code>networkX</code> graphs.</p> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      primal
    </div> <div class="elem-type" data-v-543ae8fc>
      nx.Graph
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An optional <code data-v-543ae8fc>NetworkX</code> graph to plot in the primal representation.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      dual
    </div> <div class="elem-type" data-v-543ae8fc>
      nx.Graph
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An optional <code data-v-543ae8fc>NetworkX</code> graph to plot in the dual representation.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      path
    </div> <div class="elem-type" data-v-543ae8fc>
      str
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An optional filepath: if provided, the image will be saved to the path instead of being displayed.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      labels
    </div> <div class="elem-type" data-v-543ae8fc>
      bool
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Whether to display node labels.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      primal_colour
    </div> <div class="elem-type" data-v-543ae8fc>
      str, list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Primal node colour or colours. When passing a list of colours, the number of colours should match the order and number of nodes in the graph. The colours are passed to the underlying <a href="https://networkx.github.io/documentation/networkx-1.10/reference/generated/networkx.drawing.nx_pylab.draw_networkx.html#draw-networkx" target="_blank" rel="noopener noreferrer" data-v-543ae8fc><code data-v-543ae8fc>draw_networkx</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> method and should be formatted accordingly.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      dual_colour
    </div> <div class="elem-type" data-v-543ae8fc>
      str, list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Dual node colour or colours. When passing a list of colours, the number of colours should match the order and number of nodes in the graph. The colours are passed to the underlying <a href="https://networkx.github.io/documentation/networkx-1.10/reference/generated/networkx.drawing.nx_pylab.draw_networkx.html#draw-networkx" target="_blank" rel="noopener noreferrer" data-v-543ae8fc><code data-v-543ae8fc>draw_networkx</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> method and should be formatted accordingly.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      figure_kwargs
    </div> <div class="elem-type" data-v-543ae8fc>
      key=value pairs
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc><code data-v-543ae8fc>key=value</code> pairs which will be passed to the <code data-v-543ae8fc>matplotlib</code> figure parameters. If provided, these <code data-v-543ae8fc>kwargs</code> are used to override the default figure size or dpi parameters.</p></div></div> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> cityseer<span class="token punctuation">.</span>util <span class="token keyword">import</span> mock<span class="token punctuation">,</span> graphs<span class="token punctuation">,</span> plot

G <span class="token operator">=</span> mock<span class="token punctuation">.</span>mock_graph<span class="token punctuation">(</span><span class="token punctuation">)</span>
G_simple <span class="token operator">=</span> graphs<span class="token punctuation">.</span>nX_simple_geoms<span class="token punctuation">(</span>G<span class="token punctuation">)</span>
G_dual <span class="token operator">=</span> graphs<span class="token punctuation">.</span>nX_to_dual<span class="token punctuation">(</span>G_simple<span class="token punctuation">)</span>
plot<span class="token punctuation">.</span>plot_nX_primal_or_dual<span class="token punctuation">(</span>G_simple<span class="token punctuation">,</span> G_dual<span class="token punctuation">,</span> labels<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><img src="/cityseer/assets/img/graph_dual.82fbb7de.png" alt="Example dual graph" class="centre" style="max-height:450px;"> <p><em>Dual graph (blue) overlaid on the source primal graph (red).</em></p> <h2 id="plot-nx"><a href="#plot-nx" class="header-anchor">#</a> plot_nX</h2> <div class="sig-style" data-v-9706ca2e><pre data-v-9706ca2e>plot_nX(networkX_graph,
        path=None,
        labels=False,
        colour=None,
        **figure_kwargs)
</pre></div> <p>Plot a <code>networkX</code> graph.</p> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      networkX_graph
    </div> <div class="elem-type" data-v-543ae8fc>
      nx.Graph
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>NetworkX</code> graph.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      path
    </div> <div class="elem-type" data-v-543ae8fc>
      str
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An optional filepath: if provided, the image will be saved to the path instead of being displayed.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      labels
    </div> <div class="elem-type" data-v-543ae8fc>
      bool
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Whether to display node labels.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      colour
    </div> <div class="elem-type" data-v-543ae8fc>
      str, list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Node colour or colours. When passing a list of colours, the number of colours should match the order and number of nodes in the graph. The colours are passed to the underlying <a href="https://networkx.github.io/documentation/networkx-1.10/reference/generated/networkx.drawing.nx_pylab.draw_networkx.html#draw-networkx" target="_blank" rel="noopener noreferrer" data-v-543ae8fc><code data-v-543ae8fc>draw_networkx</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> method and should be formatted accordingly.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      figure_kwargs
    </div> <div class="elem-type" data-v-543ae8fc>
      key=value pairs
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc><code data-v-543ae8fc>key=value</code> pairs which will be passed to the <code data-v-543ae8fc>matplotlib</code> figure parameters. If provided, these <code data-v-543ae8fc>kwargs</code> are used to override the default figure size or dpi parameters.</p></div></div> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> cityseer<span class="token punctuation">.</span>util <span class="token keyword">import</span> mock<span class="token punctuation">,</span> graphs<span class="token punctuation">,</span> plot
<span class="token keyword">from</span> cityseer<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> networks
<span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> colors

<span class="token comment"># generate a graph and compute gravity</span>
G <span class="token operator">=</span> mock<span class="token punctuation">.</span>mock_graph<span class="token punctuation">(</span><span class="token punctuation">)</span>
G <span class="token operator">=</span> graphs<span class="token punctuation">.</span>nX_simple_geoms<span class="token punctuation">(</span>G<span class="token punctuation">)</span>
G <span class="token operator">=</span> graphs<span class="token punctuation">.</span>nX_decompose<span class="token punctuation">(</span>G<span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>
N <span class="token operator">=</span> networks<span class="token punctuation">.</span>Network_Layer_From_nX<span class="token punctuation">(</span>G<span class="token punctuation">,</span> distances<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">800</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
N<span class="token punctuation">.</span>gravity<span class="token punctuation">(</span><span class="token punctuation">)</span>
G_after <span class="token operator">=</span> N<span class="token punctuation">.</span>to_networkX<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># let's extract and normalise the values</span>
vals <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> node<span class="token punctuation">,</span> data <span class="token keyword">in</span> G_after<span class="token punctuation">.</span>nodes<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    vals<span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string">'metrics'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'centrality'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'gravity'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">800</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    
<span class="token comment"># let's create a custom colourmap using matplotlib</span>
cmap <span class="token operator">=</span> colors<span class="token punctuation">.</span>LinearSegmentedColormap<span class="token punctuation">.</span>from_list<span class="token punctuation">(</span><span class="token string">'cityseer'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'#64c1ff'</span><span class="token punctuation">,</span> <span class="token string">'#d32f2f'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># normalise the values</span>
vals <span class="token operator">=</span> colors<span class="token punctuation">.</span>Normalize<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>vals<span class="token punctuation">)</span>
<span class="token comment"># cast against the colour map</span>
cols <span class="token operator">=</span> cmap<span class="token punctuation">(</span>vals<span class="token punctuation">)</span>

<span class="token comment"># plot</span>
plot<span class="token punctuation">.</span>plot_nX<span class="token punctuation">(</span>G_after<span class="token punctuation">,</span> labels<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> colour<span class="token operator">=</span>cols<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><img src="/cityseer/assets/img/graph_colour.aad36ce7.png" alt="Example colour plot" class="centre" style="max-height:450px;"> <p><em><mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mn class="mjx-n"><mjx-c c="8"></mjx-c><mjx-c c="0"></mjx-c><mjx-c c="0"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c c="m"></mjx-c></mjx-mi></mjx-math></mjx-container> gravity colour plot on a <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mn class="mjx-n"><mjx-c c="5"></mjx-c><mjx-c c="0"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c c="m"></mjx-c></mjx-mi></mjx-math></mjx-container> decomposed graph.</em></p> <h2 id="plot-assignment"><a href="#plot-assignment" class="header-anchor">#</a> plot_assignment</h2> <div class="sig-style" data-v-9706ca2e><pre data-v-9706ca2e>plot_assignment(Network_Layer, 
                Data_Layer,
                path=None,
                node_colour=None,
                node_labels=False,
                data_labels=None,
                **figure_kwargs)
</pre></div> <p>Plot a <code>Network_Layer</code> and <code>Data_Layer</code> for the purpose of visualising assignment of data points to respective nodes.</p> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      Network_Layer
    </div> <div class="elem-type" data-v-543ae8fc>
      networks.Network_Layer
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <a href="/cityseer/metrics/networks.html#network-layer"><code>Network_Layer</code></a>.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      Data_Layer
    </div> <div class="elem-type" data-v-543ae8fc>
      layers.Data_Layer
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <a href="/cityseer/metrics/layers.html#data-layer"><code>Data_Layer</code></a>.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      path
    </div> <div class="elem-type" data-v-543ae8fc>
      str
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An optional filepath: if provided, the image will be saved to the path instead of being displayed.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      node_colour
    </div> <div class="elem-type" data-v-543ae8fc>
      str, list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Node colour or colours. When passing a list of colours, the number of colours should match the order and number of nodes in the graph. The colours are passed to the underlying <a href="https://networkx.github.io/documentation/networkx-1.10/reference/generated/networkx.drawing.nx_pylab.draw_networkx.html#draw-networkx" target="_blank" rel="noopener noreferrer" data-v-543ae8fc><code data-v-543ae8fc>draw_networkx</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> method and should be formatted accordingly.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      node_labels
    </div> <div class="elem-type" data-v-543ae8fc>
      bool
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Whether to plot the node labels.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_labels
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An optional iterable of categorical data labels which will be mapped to colours. The number of labels should match the number of data points in <code data-v-543ae8fc>Data_Layer</code>.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      figure_kwargs
    </div> <div class="elem-type" data-v-543ae8fc>
      key=value pairs
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc><code data-v-543ae8fc>key=value</code> pairs which will be passed to the <code data-v-543ae8fc>matplotlib</code> figure parameters. If provided, these <code data-v-543ae8fc>kwargs</code> are used to override the default figure size or dpi parameters.</p></div></div> <img src="/cityseer/assets/img/assignment_plot.25b007b0.png" alt="Example assignment plot" class="centre" style="max-height:450px;"> <p><em>An assignment plot to a <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mn class="mjx-n"><mjx-c c="5"></mjx-c><mjx-c c="0"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c c="m"></mjx-c></mjx-mi></mjx-math></mjx-container> decomposed graph, with the data points coloured by categorical labels.</em></p> <h2 id="plot-graph-maps"><a href="#plot-graph-maps" class="header-anchor">#</a> plot_graph_maps <div class="chip-style important">
  unstable
</div></h2> <div class="sig-style" data-v-9706ca2e><pre data-v-9706ca2e>plot_graph_maps(node_uids,
                node_map,
                edge_map,
                data_map,
                poly)
</pre></div> <p>Plot a graph from raw <code>cityseer</code> data structures. Note that this function is subject to frequent revision pending short-term development requirements. It is used mainly to visually confirm the correct behaviour of particular algorithms.</p> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      node_uids
    </div> <div class="elem-type" data-v-543ae8fc>
      [list, tuple, np.ndarray]
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An array of node ids.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      node_map
    </div> <div class="elem-type" data-v-543ae8fc>
      np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc><code data-v-543ae8fc>cityseer</code> node map.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      edge_map
    </div> <div class="elem-type" data-v-543ae8fc>
      np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc><code data-v-543ae8fc>cityseer</code> edge map.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_map
    </div> <div class="elem-type" data-v-543ae8fc>
      np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Optional: plot a data map.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      poly
    </div> <div class="elem-type" data-v-543ae8fc>
      shapely.geometry.Polygon
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Optional: plot a polygon.</p></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/12/2020, 5:03:12 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cityseer/util/mock.html" class="prev">
        util.mock
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/cityseer/assets/js/app.456aa22a.js" defer></script><script src="/cityseer/assets/js/2.749b0150.js" defer></script><script src="/cityseer/assets/js/8.279e1aab.js" defer></script><script src="/cityseer/assets/js/12.6b68f70d.js" defer></script><script src="/cityseer/assets/js/11.1bccfaa6.js" defer></script><script src="/cityseer/assets/js/10.60fbc9d6.js" defer></script><script src="/cityseer/assets/js/9.e04dbb95.js" defer></script>
  </body>
</html>
