<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cityseer API Docs</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:300,400,500">
    <meta name="description" content="Computational tools for urban analysis">
    
    <link rel="preload" href="/cityseer/assets/css/0.styles.7973ef14.css" as="style"><link rel="preload" href="/cityseer/assets/js/app.456aa22a.js" as="script"><link rel="preload" href="/cityseer/assets/js/2.749b0150.js" as="script"><link rel="preload" href="/cityseer/assets/js/17.49dafd2e.js" as="script"><link rel="preload" href="/cityseer/assets/js/12.6b68f70d.js" as="script"><link rel="preload" href="/cityseer/assets/js/11.1bccfaa6.js" as="script"><link rel="preload" href="/cityseer/assets/js/10.60fbc9d6.js" as="script"><link rel="preload" href="/cityseer/assets/js/9.e04dbb95.js" as="script"><link rel="prefetch" href="/cityseer/assets/js/13.018c0dd0.js"><link rel="prefetch" href="/cityseer/assets/js/14.54ec56a7.js"><link rel="prefetch" href="/cityseer/assets/js/15.38d41645.js"><link rel="prefetch" href="/cityseer/assets/js/16.f8d60eec.js"><link rel="prefetch" href="/cityseer/assets/js/18.5e356d14.js"><link rel="prefetch" href="/cityseer/assets/js/19.374afded.js"><link rel="prefetch" href="/cityseer/assets/js/20.27ca803a.js"><link rel="prefetch" href="/cityseer/assets/js/3.1adb85b5.js"><link rel="prefetch" href="/cityseer/assets/js/4.5f4c3657.js"><link rel="prefetch" href="/cityseer/assets/js/5.0c5d1e74.js"><link rel="prefetch" href="/cityseer/assets/js/6.3e1c4c51.js"><link rel="prefetch" href="/cityseer/assets/js/7.da4b7b99.js"><link rel="prefetch" href="/cityseer/assets/js/8.279e1aab.js">
    <link rel="stylesheet" href="/cityseer/assets/css/0.styles.7973ef14.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/cityseer/" class="home-link router-link-active"><img src="/cityseer/round_logo.png" alt="Cityseer API Docs" class="logo"> <span class="site-name can-hide">Cityseer API Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/cityseer/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="/cityseer/intro.html" class="nav-link">
  docs
</a></div><div class="nav-item"><a href="https://cityseer.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cityseer.io
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/cityseer/cityseer" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/cityseer/" class="nav-link">
  home
</a></div><div class="nav-item"><a href="/cityseer/intro.html" class="nav-link">
  docs
</a></div><div class="nav-item"><a href="https://cityseer.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  cityseer.io
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/cityseer/cityseer" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cityseer/intro.html" class="sidebar-link">intro</a></li><li><a href="/cityseer/attribution.html" class="sidebar-link">attribution</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cityseer/guide/cleaning.html" class="sidebar-link">graph cleaning</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>cityseer.metrics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cityseer/metrics/layers.html" aria-current="page" class="active sidebar-link">metrics.layers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#dict-wgs-to-utm" class="sidebar-link">dict_wgs_to_utm</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#encode-categorical" class="sidebar-link">encode_categorical</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#data-map-from-dict" class="sidebar-link">data_map_from_dict</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#data-layer" class="sidebar-link">Data_Layer</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#assign-to-network" class="sidebar-link">@assign_to_network</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#compute-aggregated" class="sidebar-link">@compute_aggregated</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#hill-diversity" class="sidebar-link">@hill_diversity</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#hill-branch-wt-diversity" class="sidebar-link">@hill_branch_wt_diversity</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#compute-accessibilities" class="sidebar-link">@compute_accessibilities</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#compute-stats-single" class="sidebar-link">@compute_stats_single</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#compute-stats-multiple" class="sidebar-link">@compute_stats_multiple</a></li><li class="sidebar-sub-header"><a href="/cityseer/metrics/layers.html#data-layer-from-dict" class="sidebar-link">DataLayerFrom_Dict</a></li></ul></li><li><a href="/cityseer/metrics/networks.html" class="sidebar-link">metrics.networks</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>cityseer.util</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cityseer/util/graphs.html" class="sidebar-link">util.graphs</a></li><li><a href="/cityseer/util/mock.html" class="sidebar-link">util.mock</a></li><li><a href="/cityseer/util/plot.html" class="sidebar-link">util.plot</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cityseer-metrics-layers"><a href="#cityseer-metrics-layers" class="header-anchor">#</a> cityseer.metrics.layers</h1> <h2 id="dict-wgs-to-utm"><a href="#dict-wgs-to-utm" class="header-anchor">#</a> dict_wgs_to_utm</h2> <div class="sig-style" data-v-9706ca2e>dict_wgs_to_utm(data_dict)</div> <p>Converts data dictionary <code>x</code> and <code>y</code> values from <a href="https://epsg.io/4326" target="_blank" rel="noopener noreferrer">WGS84<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>lng</code>, <code>lat</code> geographic coordinates to the local UTM projected coordinate system.</p> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_dict
    </div> <div class="elem-type" data-v-543ae8fc>
      dict
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A dictionary representing distinct data points, where each <code data-v-543ae8fc>key</code> represents a <code data-v-543ae8fc>uid</code> and each value represents a nested dictionary with <code data-v-543ae8fc>x</code> and <code data-v-543ae8fc>y</code> key-value pairs.</p> <div class="language-python line-numbers-mode" data-v-543ae8fc><pre class="language-python" data-v-543ae8fc><code data-v-543ae8fc>example_data_dict <span class="token operator" data-v-543ae8fc>=</span> <span class="token punctuation" data-v-543ae8fc>{</span>
    <span class="token string" data-v-543ae8fc>'uid_01'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token punctuation" data-v-543ae8fc>{</span>
        <span class="token string" data-v-543ae8fc>'x'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>6000956.463188213</span><span class="token punctuation" data-v-543ae8fc>,</span>
        <span class="token string" data-v-543ae8fc>'y'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>600693.4059810264</span>
    <span class="token punctuation" data-v-543ae8fc>}</span><span class="token punctuation" data-v-543ae8fc>,</span>
    <span class="token string" data-v-543ae8fc>'uid_02'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token punctuation" data-v-543ae8fc>{</span>
        <span class="token string" data-v-543ae8fc>'x'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>6000753.336609659</span><span class="token punctuation" data-v-543ae8fc>,</span>
        <span class="token string" data-v-543ae8fc>'y'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>600758.7916663144</span>
    <span class="token punctuation" data-v-543ae8fc>}</span>
<span class="token punctuation" data-v-543ae8fc>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-543ae8fc><span class="line-number" data-v-543ae8fc>1</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>2</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>3</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>4</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>5</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>6</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>7</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>8</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>9</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>10</span><br data-v-543ae8fc></div></div></div></div> <div class="heading-style" data-v-04a7078e>Returns</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      dict
    </div> <div class="elem-type" data-v-543ae8fc>
      dict
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>Returns a copy of the source dictionary with the <code data-v-543ae8fc>x</code> and <code data-v-543ae8fc>y</code> values converted to the local UTM coordinate system.</p></div></div> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> cityseer<span class="token punctuation">.</span>util <span class="token keyword">import</span> mock
<span class="token keyword">from</span> cityseer<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> layers

<span class="token comment"># let's generate a mock data dictionary</span>
G_wgs <span class="token operator">=</span> mock<span class="token punctuation">.</span>mock_graph<span class="token punctuation">(</span>wgs84_coords<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># mock_data_dict takes on the same extents on the graph parameter</span>
data_dict_WGS <span class="token operator">=</span> mock<span class="token punctuation">.</span>mock_data_dict<span class="token punctuation">(</span>G_wgs<span class="token punctuation">,</span> random_seed<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token comment"># the dictionary now contains wgs coordinates</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>data_dict_WGS<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token comment"># prints:</span>
    <span class="token comment"># 0 {'x': -0.09600470559254023, 'y': 51.592916036617794}</span>
    <span class="token comment"># 1 {'x': -0.10621770551738155, 'y': 51.58888719412964}</span>
    <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>
        
<span class="token comment"># any data dictionary that follows this template can be passed to dict_wgs_to_utm()</span>
data_dict_UTM <span class="token operator">=</span> layers<span class="token punctuation">.</span>dict_wgs_to_utm<span class="token punctuation">(</span>data_dict_WGS<span class="token punctuation">)</span>
<span class="token comment"># the coordinates have now been converted to UTM</span>
<span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>data_dict_UTM<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token comment"># prints:</span>
    <span class="token comment"># 0 {'x': 701144.5207785056, 'y': 5719758.706109629}</span>
    <span class="token comment"># 1 {'x': 700455.0000341447, 'y': 5719282.703221394}</span>
    <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">break</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="encode-categorical"><a href="#encode-categorical" class="header-anchor">#</a> encode_categorical</h2> <div class="sig-style" data-v-9706ca2e>encode_categorical(classes)</div> <p>Converts a list of land-use classes (or other categorical data) to an integer encoded version based on the unique elements.</p> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>It is generally not necessary to utilise this function directly. It will be called implicitly if calculating land-use metrics.</p></div> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      classes
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>list</code>, <code data-v-543ae8fc>tuple</code> or <code data-v-543ae8fc>numpy</code> array of classes to be encoded.</p></div></div> <div class="heading-style" data-v-04a7078e>Returns</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      class_descriptors
    </div> <div class="elem-type" data-v-543ae8fc>
      tuple
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>tuple</code> of unique class descriptors extracted from the input classes.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      class_encodings
    </div> <div class="elem-type" data-v-543ae8fc>
      np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>numpy</code> array of the encoded classes. The value of the <code data-v-543ae8fc>int</code> encoding will correspond to the order of the <code data-v-543ae8fc>class_descriptors</code>.</p></div></div> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> cityseer<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> layers

classes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'cat'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">,</span> <span class="token string">'cat'</span><span class="token punctuation">,</span> <span class="token string">'owl'</span><span class="token punctuation">,</span> <span class="token string">'dog'</span><span class="token punctuation">]</span>

class_descriptors<span class="token punctuation">,</span> class_encodings <span class="token operator">=</span> layers<span class="token punctuation">.</span>encode_categorical<span class="token punctuation">(</span>classes<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>class_descriptors<span class="token punctuation">)</span>  <span class="token comment"># prints: ('cat', 'dog', 'owl')</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>class_encodings<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># prints: [0, 1, 0, 2, 1]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="data-map-from-dict"><a href="#data-map-from-dict" class="header-anchor">#</a> data_map_from_dict</h2> <div class="sig-style" data-v-9706ca2e>data_map_from_dict(data_dict)</div> <p>Converts a data dictionary into a <code>numpy</code> array for use by <code>Data_Layer</code> classes.</p> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>It is generally not necessary to use this function directly. This function will be called implicitly when invoking <a href="#data-layer-from-dict">Data_Layer_From_Dict</a></p></div> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_dict
    </div> <div class="elem-type" data-v-543ae8fc>
      dict
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A dictionary representing distinct data points, where each <code data-v-543ae8fc>key</code> represents a <code data-v-543ae8fc>uid</code> and each value represents a nested dictionary with <code data-v-543ae8fc>x</code> and <code data-v-543ae8fc>y</code> key-value pairs. The coordinates must be in a projected coordinate system matching that of the <a href="http://localhost:8080/cityseer/metrics/networks.html#network-layer" target="_blank" rel="noopener noreferrer" data-v-543ae8fc><code data-v-543ae8fc>Network_Layer</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to which the data will be assigned.</p> <div class="language-python line-numbers-mode" data-v-543ae8fc><pre class="language-python" data-v-543ae8fc><code data-v-543ae8fc>
example_data_dict <span class="token operator" data-v-543ae8fc>=</span> <span class="token punctuation" data-v-543ae8fc>{</span>
    <span class="token string" data-v-543ae8fc>'uid_01'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token punctuation" data-v-543ae8fc>{</span>
        <span class="token string" data-v-543ae8fc>'x'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>6000956.463188213</span><span class="token punctuation" data-v-543ae8fc>,</span>
        <span class="token string" data-v-543ae8fc>'y'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>600693.4059810264</span>
    <span class="token punctuation" data-v-543ae8fc>}</span><span class="token punctuation" data-v-543ae8fc>,</span>
    <span class="token string" data-v-543ae8fc>'uid_02'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token punctuation" data-v-543ae8fc>{</span>
        <span class="token string" data-v-543ae8fc>'x'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>6000753.336609659</span><span class="token punctuation" data-v-543ae8fc>,</span>
        <span class="token string" data-v-543ae8fc>'y'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>600758.7916663144</span>
    <span class="token punctuation" data-v-543ae8fc>}</span>
<span class="token punctuation" data-v-543ae8fc>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-543ae8fc><span class="line-number" data-v-543ae8fc>1</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>2</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>3</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>4</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>5</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>6</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>7</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>8</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>9</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>10</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>11</span><br data-v-543ae8fc></div></div></div></div> <div class="heading-style" data-v-04a7078e>Returns</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_uids
    </div> <div class="elem-type" data-v-543ae8fc>
      tuple
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A tuple of data <code data-v-543ae8fc>uids</code> corresponding to the data point identifiers in the source <code data-v-543ae8fc>data_dict</code>.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_map
    </div> <div class="elem-type" data-v-543ae8fc>
      np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A 2d numpy array representing the data points. The indices of the second dimension correspond as follows:</p> <table data-v-543ae8fc><thead data-v-543ae8fc><tr data-v-543ae8fc><th data-v-543ae8fc>idx</th> <th style="text-align:left;" data-v-543ae8fc>property</th></tr></thead> <tbody data-v-543ae8fc><tr data-v-543ae8fc><td data-v-543ae8fc>0</td> <td style="text-align:left;" data-v-543ae8fc><code data-v-543ae8fc>x</code> coordinate</td></tr> <tr data-v-543ae8fc><td data-v-543ae8fc>1</td> <td style="text-align:left;" data-v-543ae8fc><code data-v-543ae8fc>y</code> coordinate</td></tr> <tr data-v-543ae8fc><td data-v-543ae8fc>2</td> <td style="text-align:left;" data-v-543ae8fc>assigned network index - nearest</td></tr> <tr data-v-543ae8fc><td data-v-543ae8fc>3</td> <td style="text-align:left;" data-v-543ae8fc>assigned network index - next-nearest</td></tr></tbody></table> <p data-v-543ae8fc>The arrays at indices <code data-v-543ae8fc>2</code> and <code data-v-543ae8fc>3</code> will be initialised with <code data-v-543ae8fc>np.nan</code>. These will be populated when the <a href="#assign-to-network" data-v-543ae8fc>Data_Layer.assign_to_network</a> method is invoked.</p></div></div> <h2 id="data-layer"><a href="#data-layer" class="header-anchor">#</a> Data_Layer <div class="chip-style">
  class
</div></h2> <div class="sig-style" data-v-9706ca2e>Data_Layer(data_uids, data_map)</div> <p>Categorical data, such as land-use classifications and numerical data, can be assigned to the network as a <a href="/cityseer/metrics/layers.html#data-layer"><code>Data_Layer</code></a>. A <code>Data_Layer</code> represents the spatial locations of data points, and can be used to calculate various mixed-use, land-use accessibility, and statistical measures. Importantly, these measures are computed directly over the street network and offer distance-weighted variants; the combination of which, makes them more contextually sensitive than methods otherwise based on simpler crow-flies aggregation methods.</p> <p>The coordinates of data points should correspond as precisely as possible to the location of the feature in space; or, in the case of buildings, should ideally correspond to the location of the building entrance.</p> <p>Note that in many cases, the <a href="#data-layer-from-dict"><code>Data_Layer_From_Dict</code></a> class will provide a more convenient alternative for instantiating this class.</p> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_uids
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>list</code> or <code data-v-543ae8fc>tuple</code> of data identifiers corresponding to each data point. This list must be in the same order and of the same length as the <code data-v-543ae8fc>data_map</code>.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_map
    </div> <div class="elem-type" data-v-543ae8fc>
      np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A 2d <code data-v-543ae8fc>numpy</code> array representing the data points. The length of the first dimension should match that of the <code data-v-543ae8fc>data_uids</code>. The indices of the second dimension correspond as follows:</p> <table data-v-543ae8fc><thead data-v-543ae8fc><tr data-v-543ae8fc><th data-v-543ae8fc>idx</th> <th style="text-align:left;" data-v-543ae8fc>property</th></tr></thead> <tbody data-v-543ae8fc><tr data-v-543ae8fc><td data-v-543ae8fc>0</td> <td style="text-align:left;" data-v-543ae8fc><code data-v-543ae8fc>x</code> coordinate</td></tr> <tr data-v-543ae8fc><td data-v-543ae8fc>1</td> <td style="text-align:left;" data-v-543ae8fc><code data-v-543ae8fc>y</code> coordinate</td></tr> <tr data-v-543ae8fc><td data-v-543ae8fc>2</td> <td style="text-align:left;" data-v-543ae8fc>assigned network index - nearest</td></tr> <tr data-v-543ae8fc><td data-v-543ae8fc>3</td> <td style="text-align:left;" data-v-543ae8fc>assigned network index - next-nearest</td></tr></tbody></table> <p data-v-543ae8fc>The arrays at indices <code data-v-543ae8fc>2</code> and <code data-v-543ae8fc>3</code> will be populated when the <a href="#assign-to-network" data-v-543ae8fc>Data_Layer.assign_to_network</a> method is invoked.</p></div></div> <div class="heading-style" data-v-04a7078e>Returns</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      Data_Layer
    </div> <div class="elem-type" data-v-543ae8fc>
      class
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>Data_Layer</code>.</p></div></div> <h2 id="assign-to-network"><a href="#assign-to-network" class="header-anchor">#</a> @assign_to_network</h2> <p>Once created, a <a href="#data-layer"><code>Data_Layer</code></a> should be assigned to a <a href="#network-layer"><code>Network_Layer</code></a>. The <code>Network_Layer</code> provides the backbone for the localised spatial aggregation of data points over the street network. The measures will be computed over the same distance thresholds as used for the <code>Network_Layer</code>.</p> <p>The data points will be assigned to the two closest network nodes — one in either direction — based on the closest adjacent street edge. This enables a dynamic spatial aggregation method that more accurately describes distances over the network to data points, relative to the direction of approach.</p> <div class="sig-style" data-v-9706ca2e>Data_Layer.assign_to_network(Network_Layer, max_dist)</div> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      Network_Layer
    </div> <div class="elem-type" data-v-543ae8fc>
      networks.Network_Layer
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <a href="#network-layer" data-v-543ae8fc><code data-v-543ae8fc>Network_Layer</code></a>.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      max_dist
    </div> <div class="elem-type" data-v-543ae8fc>
      int, float
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>The maximum distance to consider when assigning respective data points to the nearest adjacent network nodes.</p></div></div> <div class="custom-block tip"><p class="custom-block-title">Hint</p> <p>The <code>max_dist</code> parameter should not be set too small. There are two steps in the assignment process: the first, identifies the closest street node; the second, sets-out from this node and attempts to wind around the data point — akin to circling the block. It will then review the discovered graph edges from which it is able to identify the closest adjacent street-front. The <code>max_dist</code> parameter sets a crow-flies distance limit on how far the algorithm will search in its attempts to encircle the data point. If the <code>max_dist</code> is too small, then the algorithm is potentially hampered from finding a starting node; or, if a node is found, may have to terminate exploration prematurely because it can't travel far enough away from the data point to explore the surrounding network. If too many data points are not being successfully assigned to the correct street edges, then this distance should be increased. Conversely, if most of the data points are satisfactorily assigned, then it may be possible to decrease this threshold. A distance of <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mo class="mjx-n"><mjx-c c="2248"></mjx-c></mjx-mo><mjx-mn space="4" class="mjx-n"><mjx-c c="4"></mjx-c><mjx-c c="0"></mjx-c><mjx-c c="0"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c c="m"></mjx-c></mjx-mi></mjx-math></mjx-container> provides a good starting point.</p></div> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>The precision of assignment improves on decomposed networks (see <a href="/cityseer/util/graphs.html#nx-decompose">graphs.nX_decompose</a>), which offers the additional benefit of a more granular representation of variations in metrics along street-fronts.</p></div> <p><img src="/cityseer/assets/img/assignment.6a2d66c5.png" alt="Example assignment of data to a network" class="left"><img src="/cityseer/assets/img/assignment_decomposed.4ca4dc49.png" alt="Example assignment on a decomposed network" class="right"></p> <p><em>Assignment of data to network nodes becomes more contextually precise on decomposed graphs (right) as opposed to non-decomposed graphs (left).</em></p> <h2 id="compute-aggregated"><a href="#compute-aggregated" class="header-anchor">#</a> @compute_aggregated</h2> <div class="sig-style" data-v-9706ca2e><pre data-v-9706ca2e>Data_Layer.compute_aggregated(landuse_labels,
                              mixed_use_keys,
                              accessibility_keys,
                              cl_disparity_wt_matrix,
                              qs,
                              stats_keys,
                              stats_data_arrs)
</pre></div> <p>This method wraps the underlying <code>numba</code> optimised functions for aggregating and computing various mixed-use, land-use accessibility, and statistical measures. These are computed simultaneously for any required combinations of measures (and distances), which can have significant speed implications. Situations requiring only a single measure can instead make use of the simplified <a href="#hill-diversity"><code>Data_Layer.hill_diversity</code></a>, <a href="#hill-branch-wt-diversity"><code>Data_Layer.hill_branch_wt_diversity</code></a>, <a href="#compute-accessibilities"><code>Data_Layer.compute_accessibilities</code></a>, <a href="#compute-stats-single"><code>Data_Layer.compute_stats_single</code></a>, and <a href="#compute-stats-multiple"><code>Data_Layer.compute_stats_multiple</code></a> methods.</p> <p>The data is aggregated and computed over the street network relative to the <code>Network Layer</code> nodes, with the implication that mixed-use, accessibility, and statistical aggregations are generated from the same locations as for centrality computations, which can therefore be correlated or otherwise compared. The outputs of the calculations are written to the corresponding node indices in the same <code>Network_Layer.metrics</code> dictionary used for centrality methods, and will be categorised by the respective keys and parameters.</p> <p>For example, if <code>hill</code> and <code>shannon</code> mixed-use keys; <code>shops</code> and <code>factories</code> accessibility keys; and a <code>valuations</code> stats keys are computed on a <code>Network Layer</code> instantiated with <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mn class="mjx-n"><mjx-c c="8"></mjx-c><mjx-c c="0"></mjx-c><mjx-c c="0"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c c="m"></mjx-c></mjx-mi></mjx-math></mjx-container> and <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c><mjx-c c="6"></mjx-c><mjx-c c="0"></mjx-c><mjx-c c="0"></mjx-c></mjx-mn><mjx-mi class="mjx-i"><mjx-c c="m"></mjx-c></mjx-mi></mjx-math></mjx-container> distance thresholds, then the dictionary would assume the following structure:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>Network_Layer<span class="token punctuation">.</span>metrics <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'mixed_uses'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment"># note that hill measures have q keys</span>
        <span class="token string">'hill'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token comment"># here, q=0</span>
            <span class="token number">0</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment"># here, q=1</span>
            <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment"># non-hill measures do not have q keys</span>
        <span class="token string">'shannon'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'accessibility'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment"># accessibility keys are computed in both weighted and unweighted forms</span>
        <span class="token string">'weighted'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'shops'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'factories'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">'non_weighted'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'shops'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'factories'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'stats'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment"># stats grouped by each stats key</span>
        <span class="token string">'valuations'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token comment"># each stat will have the following key-value pairs</span>
            <span class="token string">'max'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'min'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'sum'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'sum_weighted'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'mean'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'mean_weighted'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'variance'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">'variance_weighted'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
                <span class="token number">800</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token number">1600</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><p>A working example:</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> cityseer<span class="token punctuation">.</span>metrics <span class="token keyword">import</span> networks<span class="token punctuation">,</span> layers
<span class="token keyword">from</span> cityseer<span class="token punctuation">.</span>util <span class="token keyword">import</span> mock<span class="token punctuation">,</span> graphs

<span class="token comment"># prepare a mock graph</span>
G <span class="token operator">=</span> mock<span class="token punctuation">.</span>mock_graph<span class="token punctuation">(</span><span class="token punctuation">)</span>
G <span class="token operator">=</span> graphs<span class="token punctuation">.</span>nX_simple_geoms<span class="token punctuation">(</span>G<span class="token punctuation">)</span>

<span class="token comment"># generate the network layer</span>
N <span class="token operator">=</span> networks<span class="token punctuation">.</span>Network_Layer_From_nX<span class="token punctuation">(</span>G<span class="token punctuation">,</span> distances<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">,</span> <span class="token number">1600</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># prepare a mock data dictionary</span>
data_dict <span class="token operator">=</span> mock<span class="token punctuation">.</span>mock_data_dict<span class="token punctuation">(</span>G<span class="token punctuation">,</span> random_seed<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token comment"># prepare some mock land-use classifications</span>
landuses <span class="token operator">=</span> mock<span class="token punctuation">.</span>mock_categorical_data<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>data_dict<span class="token punctuation">)</span><span class="token punctuation">,</span> random_seed<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span>
<span class="token comment"># let's also prepare some numerical data</span>
stats_data <span class="token operator">=</span> mock<span class="token punctuation">.</span>mock_numerical_data<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>data_dict<span class="token punctuation">)</span><span class="token punctuation">,</span> num_arrs<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> random_seed<span class="token operator">=</span><span class="token number">25</span><span class="token punctuation">)</span>

<span class="token comment"># generate a data layer</span>
L <span class="token operator">=</span> layers<span class="token punctuation">.</span>Data_Layer_From_Dict<span class="token punctuation">(</span>data_dict<span class="token punctuation">)</span>
<span class="token comment"># assign to the network</span>
L<span class="token punctuation">.</span>assign_to_network<span class="token punctuation">(</span>N<span class="token punctuation">,</span> max_dist<span class="token operator">=</span><span class="token number">500</span><span class="token punctuation">)</span>
<span class="token comment"># compute some metrics</span>
L<span class="token punctuation">.</span>compute_aggregated<span class="token punctuation">(</span>landuse_labels<span class="token operator">=</span>landuses<span class="token punctuation">,</span>
                     mixed_use_keys<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'hill'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                     qs<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                     accessibility_keys<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                     stats_keys<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'mock_stat'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                     stats_data_arrs<span class="token operator">=</span>stats_data<span class="token punctuation">)</span>
<span class="token comment"># note that the above measures can be run individually using simplified interfaces, e.g.</span>
<span class="token comment"># L.hill_diversity(landuses, [0])</span>
<span class="token comment"># L.compute_accessibilities(landuses, ['a', 'b'])</span>
L<span class="token punctuation">.</span>compute_stats_single<span class="token punctuation">(</span><span class="token string">'mock_stat'</span><span class="token punctuation">,</span> stats_data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment"># this method requires a 1d array</span>

<span class="token comment"># let's prepare some keys for accessing the computational outputs</span>
<span class="token comment"># distance idx: any of the distances with which the Network_Layer was initialised</span>
distance_idx <span class="token operator">=</span> <span class="token number">200</span>
<span class="token comment"># q index: any of the invoked q parameters</span>
q_idx <span class="token operator">=</span> <span class="token number">0</span>
<span class="token comment"># a node idx</span>
node_idx <span class="token operator">=</span> <span class="token number">0</span>

<span class="token comment"># the data is available at N.metrics</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>N<span class="token punctuation">.</span>metrics<span class="token punctuation">[</span><span class="token string">'mixed_uses'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'hill'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>q_idx<span class="token punctuation">]</span><span class="token punctuation">[</span>distance_idx<span class="token punctuation">]</span><span class="token punctuation">[</span>node_idx<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># prints: 4.0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>N<span class="token punctuation">.</span>metrics<span class="token punctuation">[</span><span class="token string">'accessibility'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'weighted'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>distance_idx<span class="token punctuation">]</span><span class="token punctuation">[</span>node_idx<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># prints: 0.019168843947614676</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>N<span class="token punctuation">.</span>metrics<span class="token punctuation">[</span><span class="token string">'accessibility'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'non_weighted'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>distance_idx<span class="token punctuation">]</span><span class="token punctuation">[</span>node_idx<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># prints: 1.0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>N<span class="token punctuation">.</span>metrics<span class="token punctuation">[</span><span class="token string">'stats'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'mock_stat'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'mean_weighted'</span><span class="token punctuation">]</span><span class="token punctuation">[</span>distance_idx<span class="token punctuation">]</span><span class="token punctuation">[</span>node_idx<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># prints: 71297.82967202332</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><p>Note that the data can also be unpacked to a dictionary using <a href="/cityseer/metrics/networks.html#metrics-to-dict"><code>Network_Layer.metrics_to_dict</code></a>, or transposed to a <code>networkX</code> graph using <a href="/cityseer/metrics/networks.html#to-networkx"><code>Network_Layer.to_networkX</code></a>.</p> <div class="custom-block danger"><p class="custom-block-title">Caution</p> <p>Be cognisant that mixed-use and land-use accessibility measures are sensitive to the classification schema that has been used. Meaningful comparisons from one location to another are only possible where the same schemas have been applied.</p></div> <div class="heading-style" data-v-04a7078e>Parameters</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      landuse_labels
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A set of land-use labels corresponding to the length and order of the data points. The labels should correspond to descriptors from the land-use schema, such as &quot;retail&quot; or &quot;commercial&quot;. This parameter is only required if computing mixed-uses or land-use accessibilities.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      mixed_use_keys
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An optional list of strings describing which mixed-use metrics to compute, containing any combination of <code data-v-543ae8fc>key</code> values from the following table.</p></div></div> <table><thead><tr><th>key</th> <th style="text-align:center;">formula</th> <th>notes</th></tr></thead> <tbody><tr><td>hill</td> <td style="text-align:center;"><mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-TeXAtom><mjx-mo class="mjx-lop"><mjx-c c="("></mjx-c></mjx-mo></mjx-TeXAtom><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msubsup space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.294em;"><mjx-mi size="s" class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi><mjx-spacer style="margin-top:0.18em;"></mjx-spacer><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msubsup><mjx-msup><mjx-TeXAtom><mjx-mo class="mjx-lop"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-script style="vertical-align:0.877em;"><mjx-TeXAtom size="s"><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-TeXAtom><mjx-mo class="mjx-n"><mjx-c c="/"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-mo class="mjx-n"><mjx-c c="("></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom></mjx-script></mjx-msup><mjx-mtext class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi><mjx-mo space="4" class="mjx-n"><mjx-c c="2265"></mjx-c></mjx-mo><mjx-mn space="4" class="mjx-n"><mjx-c c="0"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c c=","></mjx-c></mjx-mo><mjx-mtext space="2" class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi><mjx-mo space="4" class="mjx-n"><mjx-c c="2260"></mjx-c></mjx-mo><mjx-mn space="4" class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn></mjx-mstyle></mjx-math></mjx-container> <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-mi class="mjx-i"><mjx-c c="l"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="m"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c="2192"></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn></mjx-TeXAtom></mjx-script></mjx-msub><mjx-mtext class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-mi class="mjx-i"><mjx-c c="e"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="x"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-TeXAtom><mjx-mo class="mjx-lop"><mjx-c c="("></mjx-c></mjx-mo></mjx-TeXAtom><mjx-mo space="3" class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-munderover space="3"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-mtext space="2" class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-mtext class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-mi class="mjx-i"><mjx-c c="l"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="o"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="g"></mjx-c></mjx-mi><mjx-mtext class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-TeXAtom><mjx-mo class="mjx-lop"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom></mjx-mstyle></mjx-math></mjx-container></td> <td>Hill diversity: this is the preferred form of diversity metric because it adheres to the replication principle and uses units of effective species instead of measures of information or uncertainty. The <code>q</code> parameter controls the degree of emphasis on the <em>richness</em> of species as opposed to the <em>balance</em> of species. Over-emphasis on balance can be misleading in an urban context, for which reason research finds support for using <code>q=0</code>: this reduces to a simple count of distinct land-uses.</td></tr> <tr><td>hill_branch_wt</td> <td style="text-align:center;"><mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-TeXAtom><mjx-mo class="mjx-s4"><mjx-c c="["></mjx-c></mjx-mo></mjx-TeXAtom><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msub space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="d"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-TeXAtom><mjx-mo class="mjx-s3"><mjx-c c="("></mjx-c></mjx-mo></mjx-TeXAtom><mjx-mfrac><mjx-frac type="d"><mjx-num><mjx-nstrut type="d"></mjx-nstrut><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-num><mjx-dbox><mjx-dtable><mjx-line type="d"></mjx-line><mjx-row><mjx-den><mjx-dstrut type="d"></mjx-dstrut><mjx-TeXAtom><mjx-mover><mjx-over style="padding-bottom:0.06em;padding-left:0.275em;margin-bottom:-0.544em;"><mjx-mo class="mjx-n"><mjx-c c="AF"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c c="T"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-TeXAtom></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-msup><mjx-TeXAtom><mjx-mo class="mjx-s3"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-script style="vertical-align:1.177em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msup><mjx-msup><mjx-TeXAtom><mjx-mo class="mjx-s4"><mjx-c c="]"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-script style="vertical-align:1.477em;"><mjx-TeXAtom size="s"><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-TeXAtom><mjx-mo class="mjx-n"><mjx-c c="/"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-mo class="mjx-n"><mjx-c c="("></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom></mjx-script></mjx-msup></mjx-mstyle></mjx-math></mjx-container> <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-TeXAtom><mjx-mover><mjx-over style="padding-bottom:0.06em;padding-left:0.275em;margin-bottom:-0.544em;"><mjx-mo class="mjx-n"><mjx-c c="AF"></mjx-c></mjx-mo></mjx-over><mjx-base><mjx-mi class="mjx-i"><mjx-c c="T"></mjx-c></mjx-mi></mjx-base></mjx-mover></mjx-TeXAtom><mjx-mo space="4" class="mjx-n"><mjx-c c="="></mjx-c></mjx-mo><mjx-munderover space="4"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msub space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="d"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-mstyle></mjx-math></mjx-container></td> <td>This is a distance-weighted variant of Hill Diversity based on the distances from the point of computation to the nearest example of a particular land-use. It therefore gives a locally representative indication of the intensity of mixed-uses. <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="d"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-math></mjx-container> is a negative exponential function where <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c c="3B2"></mjx-c></mjx-mi></mjx-math></mjx-container> controls the strength of the decay. (<mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c c="3B2"></mjx-c></mjx-mi></mjx-math></mjx-container> is provided by the <code>Network Layer</code>, see <a href="/cityseer/metrics/networks.html#distance-from-beta">distance_from_beta</a>.)</td></tr> <tr><td>hill_pairwise_wt</td> <td style="text-align:center;"><mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-TeXAtom><mjx-mo class="mjx-s4"><mjx-c c="["></mjx-c></mjx-mo></mjx-TeXAtom><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.179em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c="2260"></mjx-c></mjx-mo><mjx-TeXAtom><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msub space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="d"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-TeXAtom><mjx-mo class="mjx-s3"><mjx-c c="("></mjx-c></mjx-mo></mjx-TeXAtom><mjx-mfrac><mjx-frac type="d"><mjx-num><mjx-nstrut type="d"></mjx-nstrut><mjx-mrow><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type="d"></mjx-line><mjx-row><mjx-den><mjx-dstrut type="d"></mjx-dstrut><mjx-mi class="mjx-i"><mjx-c c="Q"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-msup><mjx-TeXAtom><mjx-mo class="mjx-s3"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-script style="vertical-align:1.177em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msup><mjx-msup><mjx-TeXAtom><mjx-mo class="mjx-s4"><mjx-c c="]"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-script style="vertical-align:1.477em;"><mjx-TeXAtom size="s"><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-TeXAtom><mjx-mo class="mjx-n"><mjx-c c="/"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-mo class="mjx-n"><mjx-c c="("></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom></mjx-script></mjx-msup></mjx-mstyle></mjx-math></mjx-container> <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-mi class="mjx-i"><mjx-c c="Q"></mjx-c></mjx-mi><mjx-mo space="4" class="mjx-n"><mjx-c c="="></mjx-c></mjx-mo><mjx-munderover space="4"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.179em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c="2260"></mjx-c></mjx-mo><mjx-TeXAtom><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msub space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="d"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-mstyle></mjx-math></mjx-container></td> <td>This is a pairwise-distance-weighted variant of Hill Diversity based on the respective distances between the closest examples of the pairwise distinct land-use combinations as routed through the point of computation. <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="d"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-math></mjx-container> represents a negative exponential function where <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c c="3B2"></mjx-c></mjx-mi></mjx-math></mjx-container> controls the strength of the decay. (<mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c c="3B2"></mjx-c></mjx-mi></mjx-math></mjx-container> is provided by the <code>Network Layer</code>, see <a href="/cityseer/metrics/networks.html#distance-from-beta">distance_from_beta</a>.)</td></tr> <tr><td>hill_pairwise_disparity</td> <td style="text-align:center;"><mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-TeXAtom><mjx-mo class="mjx-s4"><mjx-c c="["></mjx-c></mjx-mo></mjx-TeXAtom><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.179em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c="2260"></mjx-c></mjx-mo><mjx-TeXAtom><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msub space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="w"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-TeXAtom><mjx-mo class="mjx-s3"><mjx-c c="("></mjx-c></mjx-mo></mjx-TeXAtom><mjx-mfrac><mjx-frac type="d"><mjx-num><mjx-nstrut type="d"></mjx-nstrut><mjx-mrow><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-mrow></mjx-num><mjx-dbox><mjx-dtable><mjx-line type="d"></mjx-line><mjx-row><mjx-den><mjx-dstrut type="d"></mjx-dstrut><mjx-mi class="mjx-i"><mjx-c c="Q"></mjx-c></mjx-mi></mjx-den></mjx-row></mjx-dtable></mjx-dbox></mjx-frac></mjx-mfrac><mjx-msup><mjx-TeXAtom><mjx-mo class="mjx-s3"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-script style="vertical-align:1.177em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msup><mjx-msup><mjx-TeXAtom><mjx-mo class="mjx-s4"><mjx-c c="]"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-script style="vertical-align:1.477em;"><mjx-TeXAtom size="s"><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-TeXAtom><mjx-mo class="mjx-n"><mjx-c c="/"></mjx-c></mjx-mo></mjx-TeXAtom><mjx-mo class="mjx-n"><mjx-c c="("></mjx-c></mjx-mo><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-mi class="mjx-i"><mjx-c c="q"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c=")"></mjx-c></mjx-mo></mjx-TeXAtom></mjx-script></mjx-msup></mjx-mstyle></mjx-math></mjx-container> <mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-mi class="mjx-i"><mjx-c c="Q"></mjx-c></mjx-mi><mjx-mo space="4" class="mjx-n"><mjx-c c="="></mjx-c></mjx-mo><mjx-munderover space="4"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.179em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c="2260"></mjx-c></mjx-mo><mjx-TeXAtom><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msub space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="w"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-mstyle></mjx-math></mjx-container></td> <td>This is a disparity-weighted variant of Hill Diversity based on the pairwise disparities between land-uses. This variant requires the use of a disparity matrix provided through the <code>cl_disparity_wt_matrix</code> parameter.</td></tr> <tr><td>shannon</td> <td style="text-align:center;"><mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-mo class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-mtext space="2" class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-mtext class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-mi class="mjx-i"><mjx-c c="l"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="o"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="g"></mjx-c></mjx-mi><mjx-mtext class="mjx-n"><mjx-c c="A0"></mjx-c></mjx-mtext><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-mstyle></mjx-math></mjx-container></td> <td>Shannon diversity (or <em>information entropy</em>) is one of the classic diversity indices. Note that it is preferable to use Hill Diversity with <code>q=1</code>, which is effectively a transformation of Shannon diversity into units of effective species.</td></tr> <tr><td>gini_simpson</td> <td style="text-align:center;"><mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-mn class="mjx-n"><mjx-c c="1"></mjx-c></mjx-mn><mjx-mo space="3" class="mjx-n"><mjx-c c="2212"></mjx-c></mjx-mo><mjx-munderover space="3"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msubsup space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.247em;"><mjx-mn size="s" class="mjx-n"><mjx-c c="2"></mjx-c></mjx-mn><mjx-spacer style="margin-top:0.193em;"></mjx-spacer><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msubsup></mjx-mstyle></mjx-math></mjx-container></td> <td>Gini-Simpson is another classic diversity index. It can behave problematically because it does not adhere to the replication principle and places emphasis on the balance of species, which can be counter-productive for purposes of measuring mixed-uses. Note that where an emphasis on balance is desired, it is preferable to use Hill Diversity with <code>q=2</code>, which is effectively a transformation of Gini-Simpson diversity into units of effective species.</td></tr> <tr><td>raos_pairwise_disparity</td> <td style="text-align:center;"><mjx-container jax="CHTML" class="MathJax"><mjx-math class=" MJX-TEX"><mjx-mstyle><mjx-munderover><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.6em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-munderover space="2"><mjx-over style="padding-bottom:0.184em;padding-left:0.505em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="S"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-over><mjx-box><mjx-munder><mjx-row><mjx-base><mjx-mo class="mjx-lop"><mjx-c c="2211"></mjx-c></mjx-mo></mjx-base></mjx-row><mjx-row><mjx-under style="padding-top:0.167em;padding-left:0.179em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi><mjx-mo class="mjx-n"><mjx-c c="2260"></mjx-c></mjx-mo><mjx-TeXAtom><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-TeXAtom></mjx-under></mjx-row></mjx-munder></mjx-box></mjx-munderover><mjx-msub space="2"><mjx-mi noIC="true" class="mjx-i"><mjx-c c="d"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="i"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub><mjx-msub><mjx-mi noIC="true" class="mjx-i"><mjx-c c="p"></mjx-c></mjx-mi><mjx-script style="vertical-align:-0.15em;"><mjx-TeXAtom size="s"><mjx-mi class="mjx-i"><mjx-c c="j"></mjx-c></mjx-mi></mjx-TeXAtom></mjx-script></mjx-msub></mjx-mstyle></mjx-math></mjx-container></td> <td>Rao diversity is a pairwise disparity measure and requires the use of a disparity matrix provided through the <code>cl_disparity_wt_matrix</code> parameter. It suffers from the same issues as Gini-Simpson. It is preferable to use disparity weighted Hill diversity with <code>q=2</code>.</td></tr></tbody></table> <div class="custom-block tip"><p class="custom-block-title">Hint</p> <p>The available choices of land-use diversity measures may seem overwhelming. <code>hill_branch_wt</code> paired with <code>q=0</code> is generally the best choice for granular landuse data, or else <code>q=1</code> or <code>q=2</code> for increasingly crude landuse classifications schemas.</p></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      accessibility_keys
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>An optional <code data-v-543ae8fc>list</code> or <code data-v-543ae8fc>tuple</code> of land-use classifications for which to calculate accessibilities. The keys should be selected from the same land-use schema used for the <code data-v-543ae8fc>landuse_labels</code> parameter, e.g. &quot;retail&quot;. The calculations will be performed in both <code data-v-543ae8fc>weighted</code> and <code data-v-543ae8fc>non_weighted</code> variants.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      cl_disparity_wt_matrix
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A pairwise <code data-v-543ae8fc>NxN</code> disparity matrix numerically describing the degree of disparity between any pair of distinct land-uses. This parameter is only required if computing mixed-uses using <code data-v-543ae8fc>hill_pairwise_disparity</code> or <code data-v-543ae8fc>raos_pairwise_disparity</code>.  The number and order of land-uses should match those implicitly generated by <a href="#encode-categorical" data-v-543ae8fc><code data-v-543ae8fc>encode_categorical</code></a>.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      qs
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>The values of <code data-v-543ae8fc>q</code> for which to compute Hill diversity. This parameter is only required if computing one of the Hill diversity mixed-use measures.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      stats_keys
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>list</code> or <code data-v-543ae8fc>tuple</code> of keys corresponding to the number of nested arrays passed to the <code data-v-543ae8fc>stats_data_arrs</code> parameter. The computed stats will be saved to the <code data-v-543ae8fc>N.metrics</code> dictionary using these keys. This parameter is only required if computing stats for a <code data-v-543ae8fc>stats_data_arrs</code> parameter.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      stats_data_arrs
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A 2d <code data-v-543ae8fc>list</code>, <code data-v-543ae8fc>tuple</code> or <code data-v-543ae8fc>numpy</code> array of numerical data, where the first dimension corresponds to the number of keys in the <code data-v-543ae8fc>stats_keys</code> parameter and the second dimension corresponds to number of data points in the <code data-v-543ae8fc>Data_Layer</code>. See the below example.</p></div></div> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># for a Data_Layer containg 5 data points</span>
stats_keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'valuations'</span><span class="token punctuation">,</span> <span class="token string">'floors'</span><span class="token punctuation">,</span> <span class="token string">'occupants'</span><span class="token punctuation">]</span>
stats_data_arrs <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">50000</span><span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">,</span> <span class="token number">55000</span><span class="token punctuation">,</span> <span class="token number">42000</span><span class="token punctuation">,</span> <span class="token number">46000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># valuations</span>
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># floors</span>
    <span class="token punctuation">[</span><span class="token number">420</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">]</span>  <span class="token comment"># occupants</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="hill-diversity"><a href="#hill-diversity" class="header-anchor">#</a> @hill_diversity</h2> <div class="sig-style" data-v-9706ca2e>Data_Layer.hill_diversity(landuse_labels, qs)</div> <p>Compute hill diversity for the provided <code>landuse_labels</code> at the specified values of <code>q</code>. See <a href="#compute-aggregated">Data_Layer.compute_aggregated</a> for additional information.</p> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      landuse_labels
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A set of land-use labels corresponding to the length and order of the data points. The labels should correspond to descriptors from the land-use schema, such as &quot;retail&quot; or &quot;commercial&quot;.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      qs
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>The values of <code data-v-543ae8fc>q</code> for which to compute Hill diversity.</p></div></div> <p>The data key is <code>hill</code>, e.g.:</p> <p><code>Network_Layer.metrics['mixed_uses']['hill'][&lt;&lt;q key&gt;&gt;][&lt;&lt;distance key&gt;&gt;][&lt;&lt;node idx&gt;&gt;]</code></p> <h2 id="hill-branch-wt-diversity"><a href="#hill-branch-wt-diversity" class="header-anchor">#</a> @hill_branch_wt_diversity</h2> <div class="sig-style" data-v-9706ca2e>Data_Layer.hill_branch_wt_diversity(landuse_labels, qs)</div> <p>Compute distance-weighted hill diversity for the provided <code>landuse_labels</code> at the specified values of <code>q</code>. See <a href="#compute-aggregated">Data_Layer.compute_aggregated</a> for additional information.</p> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      landuse_labels
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A set of land-use labels corresponding to the length and order of the data points. The labels should correspond to descriptors from the land-use schema, such as &quot;retail&quot; or &quot;commercial&quot;.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      qs
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>The values of <code data-v-543ae8fc>q</code> for which to compute Hill diversity.</p></div></div> <p>The data key is <code>hill_branch_wt</code>, e.g.:</p> <p><code>Network_Layer.metrics['mixed_uses']['hill_branch_wt'][&lt;&lt;q key&gt;&gt;][&lt;&lt;distance key&gt;&gt;][&lt;&lt;node idx&gt;&gt;]</code></p> <h2 id="compute-accessibilities"><a href="#compute-accessibilities" class="header-anchor">#</a> @compute_accessibilities</h2> <div class="sig-style" data-v-9706ca2e><pre data-v-9706ca2e>Data_Layer.compute_accessibilities(landuse_labels,
                                   accessibility_keys)
</pre></div> <p>Compute land-use accessibilities for the specified land-use classification keys. See <a href="#compute-aggregated">Data_Layer.compute_aggregated</a> for additional information.</p> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      landuse_labels
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A set of land-use labels corresponding to the length and order of the data points. The labels should correspond to descriptors from the land-use schema, such as &quot;retail&quot; or &quot;commercial&quot;.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      accessibility_keys
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>The land-use keys for which to compute accessibilies. The keys should be selected from the same land-use schema used for the <code data-v-543ae8fc>landuse_labels</code> parameter, e.g. &quot;retail&quot;. The calculations will be performed in both <code data-v-543ae8fc>weighted</code> and <code data-v-543ae8fc>non_weighted</code> variants.</p></div></div> <p>The data keys will correspond to the <code>accessibility_keys</code> specified, e.g. where computing <code>retail</code> accessibility:</p> <p><code>Network_Layer.metrics['accessibility']['weighted']['retail'][&lt;&lt;distance key&gt;&gt;][&lt;&lt;node idx&gt;&gt;]</code> <code>Network_Layer.metrics['accessibility']['non_weighted']['retail'][&lt;&lt;distance key&gt;&gt;][&lt;&lt;node idx&gt;&gt;]</code></p> <h2 id="compute-stats-single"><a href="#compute-stats-single" class="header-anchor">#</a> @compute_stats_single</h2> <div class="sig-style" data-v-9706ca2e><pre data-v-9706ca2e>Data_Layer.compute_stats_single(stats_key, stats_data_arr)
</pre></div> <p>Compute stats for a single <code>stats_key</code> parameter. As with the landuse and mixed-use measures: stats will be computed for each distance that was specified when initialising the <code>Network_Layer</code>.</p> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      stats_key
    </div> <div class="elem-type" data-v-543ae8fc>
      str
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>str</code> key describing the stats computed for the <code data-v-543ae8fc>stats_data_arr</code> parameter. The computed stats will be saved to the <code data-v-543ae8fc>N.metrics</code> dictionary under this key.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      stats_data_arr
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A 1d <code data-v-543ae8fc>list</code>, <code data-v-543ae8fc>tuple</code> or <code data-v-543ae8fc>numpy</code> array of numerical data, where the length corresponds to the number of data points in the <code data-v-543ae8fc>Data_Layer</code>.</p></div></div> <p>The data key will correspond to the <code>stats_key</code> parameter, e.g. where using <code>occupants</code> as the key:</p> <p><code>Network_Layer.metrics['stats']['occupants'][&lt;&lt;stat type&gt;&gt;][&lt;&lt;distance key&gt;&gt;][&lt;&lt;node idx&gt;&gt;]</code></p> <div class="custom-block tip"><p class="custom-block-title">Hint</p> <p>Per the above working example, the following stat types will be available for each <code>stats_key</code> for each of the computed distances:</p> <ul><li><code>max</code> and <code>min</code></li> <li><code>sum</code> and <code>sum_weighted</code></li> <li><code>mean</code> and <code>mean_weighted</code></li> <li><code>variance</code> and <code>variance_weighted</code></li></ul></div> <h2 id="compute-stats-multiple"><a href="#compute-stats-multiple" class="header-anchor">#</a> @compute_stats_multiple</h2> <div class="sig-style" data-v-9706ca2e><pre data-v-9706ca2e>Data_Layer.compute_stats_multiple(stats_keys, stats_data_arr)
</pre></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      stats_keys
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <code data-v-543ae8fc>list</code> or <code data-v-543ae8fc>tuple</code> of keys corresponding to the number of nested arrays passed to the <code data-v-543ae8fc>stats_data_arrs</code> parameter. The computed stats will be saved to the <code data-v-543ae8fc>N.metrics</code> dictionary under these keys.</p></div></div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      stats_data_arrs
    </div> <div class="elem-type" data-v-543ae8fc>
      list, tuple, np.ndarray
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A 2d <code data-v-543ae8fc>list</code>, <code data-v-543ae8fc>tuple</code> or <code data-v-543ae8fc>numpy</code> array of numerical data, where the first dimension corresponds to the number of keys in the <code data-v-543ae8fc>stats_keys</code> parameter and the second dimension corresponds to number of data points in the <code data-v-543ae8fc>Data_Layer</code>. See the below example.</p></div></div> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># for a Data_Layer containg 5 data points</span>
stats_keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'valuations'</span><span class="token punctuation">,</span> <span class="token string">'floors'</span><span class="token punctuation">,</span> <span class="token string">'occupants'</span><span class="token punctuation">]</span>
stats_data_arrs <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">50000</span><span class="token punctuation">,</span> <span class="token number">60000</span><span class="token punctuation">,</span> <span class="token number">55000</span><span class="token punctuation">,</span> <span class="token number">42000</span><span class="token punctuation">,</span> <span class="token number">46000</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># valuations</span>
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># floors</span>
    <span class="token punctuation">[</span><span class="token number">420</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">250</span><span class="token punctuation">,</span> <span class="token number">600</span><span class="token punctuation">]</span>  <span class="token comment"># occupants</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>The data keys will correspond to the <code>stats_keys</code> parameter:</p> <p><code>Network_Layer.metrics['stats']['valuations'][&lt;&lt;stat type&gt;&gt;][&lt;&lt;distance key&gt;&gt;][&lt;&lt;node idx&gt;&gt;]</code> <code>Network_Layer.metrics['stats']['floors'][&lt;&lt;stat type&gt;&gt;][&lt;&lt;distance key&gt;&gt;][&lt;&lt;node idx&gt;&gt;]</code> <code>Network_Layer.metrics['stats']['occupants'][&lt;&lt;stat type&gt;&gt;][&lt;&lt;distance key&gt;&gt;][&lt;&lt;node idx&gt;&gt;]</code></p> <h2 id="data-layer-from-dict"><a href="#data-layer-from-dict" class="header-anchor">#</a> Data_Layer_From_Dict <div class="chip-style">
  class
</div></h2> <div class="sig-style" data-v-9706ca2e>Data_Layer_From_Dict(data_dict)</div> <p>Directly transposes an appropriately prepared data dictionary into a <code>Data_Layer</code>. This <code>class</code> calls <a href="#data-map-from-dict"><code>data_map_from_dict</code></a> internally. Methods and properties are inherited from the parent <a href="#data-layer"><code>Data_Layer</code></a> class, which can be referenced for more information.</p> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      data_dict
    </div> <div class="elem-type" data-v-543ae8fc>
      dict
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A dictionary representing distinct data points, where each <code data-v-543ae8fc>key</code> represents a <code data-v-543ae8fc>uid</code> and each value represents a nested dictionary with <code data-v-543ae8fc>x</code> and <code data-v-543ae8fc>y</code> key-value pairs. The coordinates must be in a projected coordinate system matching that of the <a href="http://localhost:8080/cityseer/metrics/networks.html#network-layer" target="_blank" rel="noopener noreferrer" data-v-543ae8fc><code data-v-543ae8fc>Network_Layer</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to which the data will be assigned.</p> <div class="language-python line-numbers-mode" data-v-543ae8fc><pre class="language-python" data-v-543ae8fc><code data-v-543ae8fc>
example_data_dict <span class="token operator" data-v-543ae8fc>=</span> <span class="token punctuation" data-v-543ae8fc>{</span>
    <span class="token string" data-v-543ae8fc>'uid_01'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token punctuation" data-v-543ae8fc>{</span>
        <span class="token string" data-v-543ae8fc>'x'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>6000956.463188213</span><span class="token punctuation" data-v-543ae8fc>,</span>
        <span class="token string" data-v-543ae8fc>'y'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>600693.4059810264</span>
    <span class="token punctuation" data-v-543ae8fc>}</span><span class="token punctuation" data-v-543ae8fc>,</span>
    <span class="token string" data-v-543ae8fc>'uid_02'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token punctuation" data-v-543ae8fc>{</span>
        <span class="token string" data-v-543ae8fc>'x'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>6000753.336609659</span><span class="token punctuation" data-v-543ae8fc>,</span>
        <span class="token string" data-v-543ae8fc>'y'</span><span class="token punctuation" data-v-543ae8fc>:</span> <span class="token number" data-v-543ae8fc>600758.7916663144</span>
    <span class="token punctuation" data-v-543ae8fc>}</span>
<span class="token punctuation" data-v-543ae8fc>}</span>
</code></pre> <div class="line-numbers-wrapper" data-v-543ae8fc><span class="line-number" data-v-543ae8fc>1</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>2</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>3</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>4</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>5</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>6</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>7</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>8</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>9</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>10</span><br data-v-543ae8fc><span class="line-number" data-v-543ae8fc>11</span><br data-v-543ae8fc></div></div></div></div> <div class="heading-style" data-v-04a7078e>Returns</div> <div class="container" data-v-543ae8fc><div class="column" data-v-543ae8fc><div class="elem-name" data-v-543ae8fc>
      Data_Layer
    </div> <div class="elem-type" data-v-543ae8fc>
      class
    </div></div> <div class="elem-content" data-v-543ae8fc><p data-v-543ae8fc>A <a href="#data-layer" data-v-543ae8fc><code data-v-543ae8fc>Data_Layer</code></a>.</p></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/29/2020, 2:45:41 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/cityseer/guide/cleaning.html" class="prev">
        graph cleaning
      </a></span> <span class="next"><a href="/cityseer/metrics/networks.html">
        metrics.networks
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/cityseer/assets/js/app.456aa22a.js" defer></script><script src="/cityseer/assets/js/2.749b0150.js" defer></script><script src="/cityseer/assets/js/17.49dafd2e.js" defer></script><script src="/cityseer/assets/js/12.6b68f70d.js" defer></script><script src="/cityseer/assets/js/11.1bccfaa6.js" defer></script><script src="/cityseer/assets/js/10.60fbc9d6.js" defer></script><script src="/cityseer/assets/js/9.e04dbb95.js" defer></script>
  </body>
</html>
